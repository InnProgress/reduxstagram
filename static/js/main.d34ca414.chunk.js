(this.webpackJsonpreduxstagram=this.webpackJsonpreduxstagram||[]).push([[0],{30:function(e,t,n){e.exports=n(52)},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"addPost",(function(){return p})),n.d(r,"addLike",(function(){return f})),n.d(r,"addComment",(function(){return E})),n.d(r,"removeComment",(function(){return b}));var a=n(0),c=n.n(a),i=n(12),o=n.n(i),l=n(11),s=n(7),u=n(6),m=n(27),d=n(10),p=function(e,t){return{type:"ADD_POST",title:e,imageUrl:t}},f=function(e){return{type:"ADD_LIKE_TO_POST",id:parseInt(e)}},E=function(e,t,n){return{type:"ADD_COMMENT",author:e,text:t,id:parseInt(n)}},b=function(e){return{type:"REMOVE_COMMENT",id:parseInt(e)}},h=n(14),O=[{id:1,title:"Lunch #hamont",picture:"https://preview.redd.it/bzfi0icpgj141.jpg?width=960&crop=smart&auto=webp&s=d0a196b946eea1533121b9392fa7f8601a769ec7",likes:69},{id:2,title:"Test post",picture:"https://preview.redd.it/n1ce9gw0ak141.jpg?width=960&crop=smart&auto=webp&s=73e5d27a1f7744d57d501e60536084c246311bbd",likes:420},{id:3,title:"Hehe",picture:"https://preview.redd.it/ioqx9t74xk141.jpg?width=640&crop=smart&auto=webp&s=c525589415993a7b78e19b8d59bed7c6365cd59f",likes:0}],g=[{id:1,postId:1,author:"Admin",text:"Hello"}],v={posts:O,comments:g},w=O[O.length-1].id||0,j=g[g.length-1].id||0,k=Object(d.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.posts,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return w++,[].concat(Object(h.a)(e),[{id:w,title:t.title,imageUrl:t.imageUrl,likes:0}]);case"ADD_LIKE_TO_POST":var n=Object(h.a)(e),r=n.findIndex((function(e){return e.id===t.id}));return n[r].likes++,n;default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.comments,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return j++,[].concat(Object(h.a)(e),[{id:j,postId:t.id,author:t.author,text:t.text}]);case"REMOVE_COMMENT":var n=Object(h.a)(e),r=e.findIndex((function(e){return e.id===t.id}));return n.splice(r,1),n;default:return e}}});function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=Object(d.c)(k,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),D=function(e,t){if(!t.id)return e;var n=e.comments.filter((function(e){return e.postId===parseInt(t.id)}));return{post:N({},e.posts.find((function(e){return e.id===parseInt(t.id)})),{comments:n})}},x=function(e){return N({},Object(d.a)(N({},r),e))},T=n(28),I=n.n(T),S=Object(u.b)(D,x)((function(e){var t=e.post;return c.a.createElement("figure",{className:"grid-figure"},c.a.createElement("div",{className:"grid-photo-wrap"},c.a.createElement(l.b,{to:"/post/"+t.id},c.a.createElement("img",{className:"grid-photo",src:t.picture,alt:t.title})),c.a.createElement(I.a,{transitionName:"like",transitionEnterTimeout:500,transitionLeaveTimeout:500},c.a.createElement("span",{key:t.likes,className:"likes-heart"},t.likes)),c.a.createElement("figcaption",null,c.a.createElement("p",null,t.title),c.a.createElement("div",{className:"control-buttons"},c.a.createElement("button",{onClick:function(){return e.addLike(t.id)},className:"likes"},"\u2764 ",t.likes),c.a.createElement(l.b,{to:"/post/"+t.id,className:"button"},"\u270e ",t.comments.length)))))})),P=Object(u.b)(D)((function(e){return c.a.createElement("div",{className:"photo-grid"},e.posts&&e.posts.map((function(e){return c.a.createElement(S,{key:e.id,id:e.id})})))})),C=n(21),A=Object(u.b)(D,x)((function(e){var t=e.post.comments,n=c.a.useState(""),r=Object(C.a)(n,2),a=r[0],i=r[1],o=c.a.useState(""),l=Object(C.a)(o,2),s=l[0],u=l[1];return c.a.createElement("div",{className:"comments"},t&&t.map((function(t,n){return c.a.createElement("div",{className:"comment",key:t.text+n},c.a.createElement("p",null,c.a.createElement("strong",null,t.author),t.text,c.a.createElement("button",{className:"remove-comment",onClick:function(){return e.removeComment(t.id)}},"x")))})),c.a.createElement("form",{className:"comment-form",onSubmit:function(t){return function(t){if(t.preventDefault(),!a||!s)return alert("Error! Author or comment text isn't entered");e.addComment(a,s,e.id),i(""),u("")}(t)}},c.a.createElement("input",{type:"text",name:"author",value:a,placeholder:"author",onChange:function(e){return i(e.target.value)}}),c.a.createElement("input",{type:"text",name:"comment",value:s,placeholder:"comment",onChange:function(e){return u(e.target.value)}}),c.a.createElement("button",null,"Submit")))})),M=Object(u.b)()((function(){var e=Object(s.f)().id;return c.a.createElement("div",{className:"single-photo"},c.a.createElement(S,{id:e}),c.a.createElement(A,{id:e}))}));var L=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(l.b,{to:"/"},c.a.createElement("h1",null,"Reduxstagram"))),c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/post/:id"},c.a.createElement(M,null)),c.a.createElement(s.a,{path:"/"},c.a.createElement(P,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(51);o.a.render(c.a.createElement(u.a,{store:_},c.a.createElement(l.a,null,c.a.createElement(L,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.d34ca414.chunk.js.map