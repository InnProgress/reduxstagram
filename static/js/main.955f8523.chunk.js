(this.webpackJsonpreduxstagram=this.webpackJsonpreduxstagram||[]).push([[0],{30:function(e,t,n){e.exports=n(52)},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"addPost",(function(){return p})),n.d(r,"addLike",(function(){return f})),n.d(r,"addComment",(function(){return E})),n.d(r,"removeComment",(function(){return b}));var a=n(0),i=n.n(a),c=n(12),o=n.n(c),s=n(11),l=n(7),u=n(6),m=n(27),d=n(10),p=function(e,t){return{type:"ADD_POST",title:e,imageUrl:t}},f=function(e){return{type:"ADD_LIKE_TO_POST",id:parseInt(e)}},E=function(e,t,n){return{type:"ADD_COMMENT",author:e,text:t,id:parseInt(n)}},b=function(e){return{type:"REMOVE_COMMENT",id:parseInt(e)}},h=n(14),O=[{id:1,title:"Test 1",picture:"https://static.toiimg.com/thumb/msid-58515713,width-748,height-499,resizemode=4,imgsize-145905/Nice-in-pictures.jpg",likes:69},{id:2,title:"Test post 2",picture:"https://preview.redd.it/n1ce9gw0ak141.jpg?width=960&crop=smart&auto=webp&s=73e5d27a1f7744d57d501e60536084c246311bbd",likes:420},{id:3,title:"Test post 3",picture:"https://preview.redd.it/ioqx9t74xk141.jpg?width=640&crop=smart&auto=webp&s=c525589415993a7b78e19b8d59bed7c6365cd59f",likes:0}],g=[{id:1,postId:1,author:"Admin",text:"Hello"}],v={posts:O,comments:g},j=O[O.length-1].id||0,w=g[g.length-1].id||0,k=Object(d.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.posts,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return j++,[].concat(Object(h.a)(e),[{id:j,title:t.title,imageUrl:t.imageUrl,likes:0}]);case"ADD_LIKE_TO_POST":var n=Object(h.a)(e),r=n.findIndex((function(e){return e.id===t.id}));return n[r].likes++,n;default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.comments,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return w++,[].concat(Object(h.a)(e),[{id:w,postId:t.id,author:t.author,text:t.text}]);case"REMOVE_COMMENT":var n=Object(h.a)(e),r=e.findIndex((function(e){return e.id===t.id}));return n.splice(r,1),n;default:return e}}});function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=Object(d.c)(k,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),D=function(e,t){if(!t.id)return e;var n=e.comments.filter((function(e){return e.postId===parseInt(t.id)}));return{post:y({},e.posts.find((function(e){return e.id===parseInt(t.id)})),{comments:n})}},T=function(e){return y({},Object(d.a)(y({},r),e))},x=n(28),I=n.n(x),S=Object(u.b)(D,T)((function(e){var t=e.post;return i.a.createElement("figure",{className:"grid-figure"},i.a.createElement("div",{className:"grid-photo-wrap"},i.a.createElement(s.b,{to:"/post/"+t.id},i.a.createElement("img",{className:"grid-photo",src:t.picture,alt:t.title})),i.a.createElement(I.a,{transitionName:"like",transitionEnterTimeout:500,transitionLeaveTimeout:500},i.a.createElement("span",{key:t.likes,className:"likes-heart"},t.likes)),i.a.createElement("figcaption",null,i.a.createElement("p",null,t.title),i.a.createElement("div",{className:"control-buttons"},i.a.createElement("button",{onClick:function(){return e.addLike(t.id)},className:"likes"},"\u2764 ",t.likes),i.a.createElement(s.b,{to:"/post/"+t.id,className:"button"},"\u270e ",t.comments.length)))))})),P=Object(u.b)(D)((function(e){return i.a.createElement("div",{className:"photo-grid"},e.posts&&e.posts.map((function(e){return i.a.createElement(S,{key:e.id,id:e.id})})))})),C=n(21),A=Object(u.b)(D,T)((function(e){var t=e.post.comments,n=i.a.useState(""),r=Object(C.a)(n,2),a=r[0],c=r[1],o=i.a.useState(""),s=Object(C.a)(o,2),l=s[0],u=s[1];return i.a.createElement("div",{className:"comments"},t&&t.map((function(t,n){return i.a.createElement("div",{className:"comment",key:t.text+n},i.a.createElement("p",null,i.a.createElement("strong",null,t.author),t.text,i.a.createElement("button",{className:"remove-comment",onClick:function(){return e.removeComment(t.id)}},"x")))})),i.a.createElement("form",{className:"comment-form",onSubmit:function(t){return function(t){if(t.preventDefault(),!a||!l)return alert("Error! Author or comment text isn't entered");e.addComment(a,l,e.id),c(""),u("")}(t)}},i.a.createElement("input",{type:"text",name:"author",value:a,placeholder:"author",onChange:function(e){return c(e.target.value)}}),i.a.createElement("input",{type:"text",name:"comment",value:l,placeholder:"comment",onChange:function(e){return u(e.target.value)}}),i.a.createElement("button",null,"Submit")))})),M=Object(u.b)()((function(){var e=Object(l.f)().id;return i.a.createElement("div",{className:"single-photo"},i.a.createElement(S,{id:e}),i.a.createElement(A,{id:e}))}));var L=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement(s.b,{to:"/"},i.a.createElement("h1",null,"Reduxstagram"))),i.a.createElement(l.c,null,i.a.createElement(l.a,{path:"/post/:id"},i.a.createElement(M,null)),i.a.createElement(l.a,{path:"/"},i.a.createElement(P,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(51);o.a.render(i.a.createElement(u.a,{store:_},i.a.createElement(s.a,null,i.a.createElement(L,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.955f8523.chunk.js.map